[ "resolution", { "input" : "300dpi", "ast" : 300, "token" : { "type" : "resolution", "units" : "dpi" } } ]
[ "media-expr", { "input" : "min-width: 25cm", "ast" : { "ident" : "min-width", "expr" : [ { "cm" : 25 } ] } } ]
[ "media-expr", { "input" : "max-width: foo", "warnings" : "usage [min-|max-]?[device-]?width: <length>" } ]
[ "at-rule", { "input" : "media all { body { background:lime } }", "ast" : { "media-list" : [ { "media-query" : [ { "media" : "all" } ] } ], "media-rules" : [ { "ruleset" : { "selectors" : [ { "selector" : [ { "simple-selector" : [ { "qname" : { "element-name" : "body" } } ] } ] } ], "declarations" : [ { "ident" : "background", "expr" : [ { "background-color" : [ { "rgb" : [ { "num" : 0 }, { "num" : 255 }, { "num" : 0 } ] } ] } ] } ] } } ], "@" : "media" } } ]
[ "at-rule", { "input" : "media all and (color) { }", "ast" : { "media-list" : [ { "media-query" : [ { "media" : "all" }, { "media-expr" : { "ident" : "color" } } ] } ], "media-rules" : [  ], "@" : "media" } } ]
[ "at-rule", { "input" : "media all and (color) { }", "ast" : { "media-list" : [ { "media-query" : [ { "media" : "all" }, { "media-expr" : { "ident" : "color" } } ] } ], "media-rules" : [  ], "@" : "media" } } ]
[ "at-rule", { "input" : "media screen { * { font-family: sans-serif } }", "ast" : { "media-list" : [ { "media-query" : [ { "media" : "screen" } ] } ], "media-rules" : [ { "ruleset" : { "selectors" : [ { "selector" : [ { "simple-selector" : [ { "qname" : { "element-name" : "*" } } ] } ] } ], "declarations" : [ { "ident" : "font-family", "expr" : [ { "keyw" : "sans-serif" } ] } ] } } ], "@" : "media" } } ]
//  try out dpi and dpcm term extensions
[ "at-rule", { "input" : "media all AND (min-resolution: 300dpi) And (max-resolution: 118dpcm) {}", "ast" : { "media-list" : [ { "media-query" : [ { "media" : "all" }, { "media-expr" : { "ident" : "min-resolution", "expr" : [ { "dpi" : 300 } ] } }, { "media-expr" : { "ident" : "max-resolution", "expr" : [ { "dpcm" : 118 } ] } } ] } ], "media-rules" : [  ], "@" : "media" } } ]
[ "at-rule", { "input" : "media noT print {body{margin : 1cm}}", "ast" : { "media-list" : [ { "media-query" : [ { "media-op" : "not" }, { "media" : "print" } ] } ], "media-rules" : [ { "ruleset" : { "selectors" : [ { "selector" : [ { "simple-selector" : [ { "qname" : { "element-name" : "body" } } ] } ] } ], "declarations" : [ { "expr" : [ { "cm" : 1 } ], "ident" : "margin" } ] } } ], "@" : "media" } } ]
[ "at-rule", { "input" : "media ONLY all And (none) { }", "ast" : { "media-list" : [ { "media-query" : [ { "media-op" : "not" }, { "media" : "all" } ] } ], "media-rules" : [  ], "@" : "media" }, "warnings" : "unknown media-feature: none" } ]
// error handling unknown media features; treated as not all:
// http://www.w3.org/TR/2012/REC-css3-mediaqueries-20120619/#error-handling
// all the following should equate to 'not all'
[ "at-rule", { "input" : "media not all {}", "ast" : { "media-list" : [ { "media-query" : [ { "media-op" : "not" }, { "media" : "all" } ] } ], "media-rules" : [  ], "@" : "media" } } ]
[ "at-rule", { "input" : "media (min-orientation:portrait) {}", "warnings" : "unknown media-feature: min-orientation", "ast" : { "media-list" : [ { "media-query" : [ { "media-op" : "not" }, { "media" : "all" } ] } ], "media-rules" : [  ], "@" : "media" } } ]
[ "at-rule", { "input" : "media (color:20example) {}", "warnings" : "usage [min-|max-]?color[-index]?: <integer>", "ast" : { "media-list" : [ { "media-query" : [ { "media-op" : "not" }, { "media" : "all" } ] } ], "media-rules" : [  ], "@" : "media" } } ]
[ "at-rule", { "input" : "media (example, all,), speech {}", "warnings" : [ "unknown media-feature: example", "discarding media list" ], "ast" : { "media-list" : [ { "media-query" : [ { "media-op" : "not" }, { "media" : "all" } ] } ], "media-rules" : [  ], "@" : "media" } } ]
[ "at-rule", { "input" : "media &test, screen {}", "ast" : { "media-list" : [ { "media-query" : [ { "media-op" : "not" }, { "media" : "all" } ] } ], "media-rules" : [  ], "@" : "media" }, "warnings" : "discarding media list" } ]
//  we should also have extended the import at-rule
[ "import", { "input" : "@import url(example.css) screen and (color), projection and (color);", "ast" : { "url" : "example.css", "media-list" : [ { "media-query" : [ { "media" : "screen" }, { "media-expr" : { "ident" : "color" } } ] }, { "media-query" : [ { "media" : "projection" }, { "media-expr" : { "ident" : "color" } } ] } ] } } ]
